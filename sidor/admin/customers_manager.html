<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>מנהל ראשי - DeliveryMaster</title>
    
    <!-- קישור לקובץ העיצוב -->
    <link rel="stylesheet" href="index.style.css">
    
    <!-- Icons (Feather) -->
    <script src="https://unpkg.com/feather-icons"></script>
    
    <!-- Google Font: Rubik & Inter -->
    <link href="https://fonts.googleapis.com/css2?family=Rubik:wght@400;500;700&family=Inter:wght@400;500;700&display=swap" rel="stylesheet">

    <!-- Preload critical CSS -->
    <style>
        body {
            font-family: 'Inter', 'Rubik', sans-serif;
            background-color: #f3f4f6;
            margin: 0;
            overflow: hidden;
        }
        .app-background {
            position: fixed;
            inset: 0;
            background-image: linear-gradient(120deg, #a1c4fd 0%, #c2e9fb 100%);
            z-index: -1;
        }
        .loader-container {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 100vh;
        }
        .loader {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #3b82f6;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
        }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    </style>
</head>
<body>
    
    <!-- Background Gradient -->
    <div class="app-background"></div>

    <!-- Toast Container -->
    <div id="toast-container"></div>

    <!-- Modals -->
    <div id="modal-overlay" class_alias="modal-overlay" class="hidden" onclick="closeAllModals()"></div>
    
    <div id="edit-customer-modal" class_alias="modal-content" class="hidden">
        <!-- Content injected by JS -->
    </div>
    <div id="history-modal" class_alias="modal-content" class="hidden">
        <!-- Content injected by JS -->
    </div>
    <div id="new-order-modal" class_alias="modal-content" class="hidden">
        <!-- Content injected by JS -->
    </div>

    <!-- Main Glassmorphism Wrapper -->
    <div class="glass-wrapper">
        <!-- Left Navigation -->
        <nav id="navbar">
            <div class="nav-header">
                <i data-feather="truck" class="w-8 h-8 text-blue-400"></i>
                <span class="nav-title">DeliveryMaster</span>
            </div>
            <div class="nav-links">
                <a href="#" id="dashboardBtn" class="nav-link active">
                    <i data-feather="map"></i><span>דשבורד</span>
                </a>
                <a href="#" id="clientsBtn" class="nav-link">
                    <i data-feather="users"></i><span>ניהול לקוחות</span>
                </a>
                <a href="#" id="historyBtn" class="nav-link">
                    <i data-feather="archive"></i><span>היסטוריית הזמנות</span>
                </a>
                <a href="#" id="messagesBtn" class="nav-link">
                    <i data-feather="message-square"></i><span>מרכז הודעות</span>
                </a>
                <a href="#" id="logsBtn" class="nav-link">
                    <i data-feather="file-text"></i><span>לוגים</span>
                </a>
            </div>
            <div class="nav-footer">
                <div id="auth-status" class="auth-status">
                    מתחבר...
                </div>
            </div>
        </nav>

        <!-- Center Content Area -->
        <main id="main-content">
            <header class="main-header">
                <h1 id="main-title" class="text-2xl font-bold">ניהול לקוחות</h1>
                <div class="search-bar">
                    <input type="text" id="search-input" class="form-input" placeholder="חפש לקוח...">
                    <i data-feather="search" class="search-icon"></i>
                </div>
            </header>
            <div id="content-area" class="content-area">
                <!-- Loader -->
                <div id="main-loader" class="loader-container">
                    <div class="loader"></div>
                </div>
                <!-- Customer table will be injected here -->
                <div class="table-container hidden">
                    <table class="data-grid">
                        <thead>
                            <tr>
                                <th>מס' לקוח</th>
                                <th>שם לקוח</th>
                                <th>טלפון</th>
                                <th>סטטוס</th>
                                <th>תאריך יצירה</th>
                                <th>פעולות</th>
                            </tr>
                        </thead>
                        <tbody id="customer-table-body">
                            <!-- Rows injected by JS -->
                        </tbody>
                    </table>
                </div>
            </div>
        </main>

        <!-- Right Details Panel -->
        <aside id="details-panel" class="hidden">
            <button class="close-panel-btn" onclick="closeDetailsPanel()">
                <i data-feather="x"></i>
            </button>
            <div id="details-content">
                <!-- Content injected by JS -->
            </div>
        </aside>
    </div>

    <!-- Firebase SDKs -->
    <script type="module" src="index.logic.js"></script>
    <script>
        // Load Feather icons
        document.addEventListener('DOMContentLoaded', () => {
            feather.replace();
        });
    </script>
</body>
</html>
